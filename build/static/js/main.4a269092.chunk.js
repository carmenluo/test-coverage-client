(this["webpackJsonptest-coverage"]=this["webpackJsonptest-coverage"]||[]).push([[0],{103:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(33),c=a.n(s),o=a(8),l=a(22),i=a(35),u=a(7),d=a.n(u),m=a(14),p=a(75),b=a(2),h=a(36),f=a.n(h),v="https://test-coverage-report.herokuapp.com/reports",g=function(){var e=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(v,"/prs"));case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(v,"/base"));case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),E=function e(){var t=this;Object(p.a)(this,e),this.baseReport=[],this.prReports=[],this.loadBaseReport=Object(m.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:a=e.sent,t.baseReport=a;case 4:case"end":return e.stop()}}),e)}))),this.loadPrReports=Object(m.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:a=e.sent,t.prReports=a;case 4:case"end":return e.stop()}}),e)}))),Object(b.d)(this)},j=Object(r.createContext)(new E),R=function(e){var t=e.store,a=e.children;return n.a.createElement(j.Provider,{value:t},a)},y=function(){return Object(r.useContext)(j)},S=a(76);a(103);function w(e){var t=e.showAllRows,a=void 0===t||t,r=e.columns,s=e.data,c=e.handleShowAllRows,o=Object(S.useTable)({columns:r,data:s}),l=o.getTableProps,i=o.getTableBodyProps,u=o.headerGroups,d=o.rows,m=o.prepareRow;return n.a.createElement("div",null,n.a.createElement("button",{onClick:c},"See Detail coverage"),n.a.createElement("table",Object.assign({},l(),{className:"coverage-table"}),n.a.createElement("thead",null,u.map((function(e){return n.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return n.a.createElement("th",e.getHeaderProps(),e.render("Header"))})))}))),n.a.createElement("tbody",Object.assign({},i(),{className:"coverage-table-body"}),d.filter((function(e,t){return a?e:0===t})).map((function(e,t){return m(e),n.a.createElement("tr",Object.assign({},e.getRowProps(),{className:"coverage-table-body_row"}),e.cells.map((function(e){return n.a.createElement("td",Object.assign({},e.getCellProps(),{className:"coverage-table-body_row-body"}),e.render("Cell"))})))})))))}var x=a(77),k=(a(4),function(e){var t,a,r="",n={display:!0,stacked:!1};return"quantity"===e.typeAnalysisConcept?(r="quantity",t={beginAtZero:!0,userCallback:function(e){var t=e;return t=(t=(t=t.toString()).split(/(?=(?:...)*$)/)).join("."),"".concat(t)}}):(r="cost",t={beginAtZero:!0,userCallback:function(e){var t=e;return t=(t=(t=t.toString()).split(/(?=(?:...)*$)/)).join("."),"".concat(t,"$")}}),"bar"===e.typeChart?(n.display=function(e){return e.datasetIndex===e.chart.$totalizer.utmost||e.datasetIndex===e.chart.$totalizer.utmost-3},n.stacked=!0,a={font:{size:"10"},align:function(e){return e.dataset.data[e.dataIndex]>0?"end":"start"},anchor:function(e){return e.dataset.data[e.dataIndex]>0?"end":"start"},rotation:function(e){return e.dataset.data[e.dataIndex]>0?0:135},backgroundColor:function(e){return e.active?"green":"balck"},formatter:function(e,t){return 0!==e?t.dataset.stack:"0"},display:n.display,borderRadius:4,color:"white"}):a=!1,{scales:{xAxes:[{stacked:n.stacked,beforeUpdate:function(e){var t={},a=0;if(e){var r=e.chart;r.data.datasets.forEach((function(e,n){r.isDatasetVisible(n)&&(a=n,e.data.forEach((function(e,a){t[a]=(t[a]||0)+e})))})),r.$totalizer={totals:t,utmost:a}}},maxBarThickness:100}],yAxes:[{stacked:n.stacked,position:"left",scaleLabel:{display:!0,labelString:r},ticks:t}]},tooltips:{enabled:!0,intersect:!0,mode:"x",bodySpacing:10,cornerRadius:5,titleMarginBottom:10},plugins:{offset:90,datalabels:a}}});Math.round;function C(e){var t=e.baseReports,a=Object(r.useState)(!1),s=Object(o.a)(a,2),c=s[0],i=s[1],u=t.map((function(e){return e.createdAt})),d=t.map((function(e){return JSON.parse(e.message).metric.statements.rate})),m={labels:Object(l.a)(u),datasets:[{label:"Statement Coverage",data:Object(l.a)(d),fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]};return n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{onClick:function(){i(!c)}},c?"Hide Chart":"Show Chart"),c&&n.a.createElement(x.a,{data:m,options:k({typeAnalysisConcept:"quantity",typeChart:"line",typeAnalysis:1})}))}var N=Object(i.a)((function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(!1),i=Object(o.a)(c,2),u=i[0],d=i[1],m=y(),p=function(e,t){return(100*e/t).toFixed(2)+"%"},h=Object(r.useMemo)((function(){return[{Header:"File",accessor:"file"},{Header:"Statements",accessor:"statements"},{Header:"Conditions",accessor:"conditions"},{Header:"Methods",accessor:"methods"},{Header:"Lines",accessor:"lines"}]}),[]);return Object(r.useEffect)((function(){if(m.baseReport.length>0){var e=JSON.parse(Object(b.h)(m.baseReport[0]).message),t=e.metric,a=e.detailMetric,r=(e.prUrl,e.branchName,[]);a&&(r=a.map((function(e){var t=e.metrics,a=t.coveredstatements,r=t.statements,n=t.coveredconditionals,s=t.conditionals,c=t.coveredmethods,o=t.methods;return{file:e.name,statements:p(a,r),conditions:p(n,s),methods:p(c,o),lines:""}})));var n=[{file:"All",statements:t.statements.rate+"%",conditions:t.branches.rate+"%",methods:t.methods.rate+"%",lines:t.lines.rate+"%"}];s([].concat(n,Object(l.a)(r)))}}),[m.baseReport.length]),m.baseReport.length>0?n.a.createElement("div",null,n.a.createElement("h2",null,"Develop Coverage"),n.a.createElement(C,{baseReports:Object(b.h)(m.baseReport)}),n.a.createElement(w,{columns:h,data:a,showAllRows:u,handleShowAllRows:function(){d(!u)}})):null})),A=(a(247),Object(i.a)((function(){var e=y(),t=Object(r.useState)([]),a=Object(o.a)(t,2),s=(a[0],a[1]),c=Object(r.useState)([{statements:void 0,conditions:void 0,methods:void 0,lines:void 0}]),l=Object(o.a)(c,2),i=(l[0],l[1],Object(r.useState)([{statements:void 0,conditions:void 0,methods:void 0,lines:void 0}])),u=Object(o.a)(i,2),d=(u[0],u[1],Object(b.h)(e.prReports));Object(r.useMemo)((function(){return[{Header:"File",accessor:"file"},{Header:"Statements",accessor:"statements"},{Header:"Conditions",accessor:"conditions"},{Header:"Methods",accessor:"methods"},{Header:"Lines",accessor:"lines"}]}),[]);return Object(r.useEffect)((function(){if(e.baseReport.length>0){var t=JSON.parse(Object(b.h)(e.baseReport[0]).message).metric;({statements:t.statements.rate,conditions:t.branches.rate,methods:t.methods.rate,lines:t.lines.rate})}if(e.prReports.length>0){var a=JSON.parse(Object(b.h)(e.prReports[2]).message),r=a.metric;a.detailMetric,a.prUrl,a.branchName;e.prReports.map((function(e){var t=JSON.parse(Object(b.h)(e).message).metric;return{statements:t.statements.rate,conditions:t.branches.rate,methods:t.methods.rate,lines:t.lines.rate}}));var n=[{file:"All",statements:r.statements.rate,conditions:r.branches.rate,methods:r.methods.rate,lines:r.lines.rate}];s([].concat(n,[]))}}),[e.prReports.length]),e.prReports.length>0||e.baseReport.length>0?n.a.createElement("div",{className:"pr-coverage"},n.a.createElement("h2",null,"PR Coverages"),n.a.createElement("table",{className:"pr-coverage__table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"PR"),n.a.createElement("th",null,"Statement"),n.a.createElement("th",null,"Conditions"),n.a.createElement("th",null,"Methods"),n.a.createElement("th",null,"Lines"))),n.a.createElement("tbody",null,d.map((function(e,t){return n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("a",{key:"".concat(e.prUrl,"-").concat(t),href:e.prUrl},e.branchName)),n.a.createElement("td",null,(JSON.parse(Object(b.h)(e).message).metric.statements.rate-58.8).toFixed(2)+"%"),n.a.createElement("td",null,(JSON.parse(Object(b.h)(e).message).metric.branches.rate-51.24).toFixed(2)+"%"),n.a.createElement("td",null,(JSON.parse(Object(b.h)(e).message).metric.methods.rate-62.68).toFixed(2)+"%"),n.a.createElement("td",null,(JSON.parse(Object(b.h)(e).message).metric.lines.rate-65.27).toFixed(2)+"%"))}))))):null}))),H=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=(t[0],t[1],y());return Object(r.useEffect)((function(){a.loadBaseReport(),a.loadPrReports()}),[a]),n.a.createElement("div",null,n.a.createElement("div",{className:"test-coverage__header"},"BioRender Test Coverage"),n.a.createElement("div",{className:"test-coverage__base-coverage"},n.a.createElement(N,null)),n.a.createElement("div",{className:"test-coverage__trends"}),n.a.createElement("div",{className:"test-coverage__pr-coverages"},n.a.createElement(A,null)))},_=(a(248),new E);c.a.render(n.a.createElement(R,{store:_},n.a.createElement(H,null)),document.getElementById("root"))},79:function(e,t,a){e.exports=a(249)}},[[79,1,2]]]);
//# sourceMappingURL=main.4a269092.chunk.js.map